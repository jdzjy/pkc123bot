<div align="center">

# ğŸ¤– 123bot

### Telegram äº‘ç›˜è‡ªåŠ¨è½¬å­˜æœºå™¨äºº

[![Version](https://img.shields.io/badge/version-v1.0.2-blue)](https://github.com/dydydd/123bot/releases)
[![GitHub stars](https://img.shields.io/github/stars/dydydd/123bot?style=social)](https://github.com/dydydd/123bot/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/dydydd/123bot?style=social)](https://github.com/dydydd/123bot/network/members)
[![GitHub issues](https://img.shields.io/github/issues/dydydd/123bot)](https://github.com/dydydd/123bot/issues)
[![GitHub license](https://img.shields.io/github/license/dydydd/123bot)](https://github.com/dydydd/123bot/blob/main/LICENSE)
[![Docker Pulls](https://img.shields.io/docker/pulls/dydydd/123bot)](https://hub.docker.com/r/dydydd/123bot)
[![Docker Build](https://github.com/dydydd/123bot/actions/workflows/docker-build.yml/badge.svg)](https://github.com/dydydd/123bot/actions/workflows/docker-build.yml)
[![Docker Image Size](https://img.shields.io/docker/image-size/dydydd/123bot/latest)](https://hub.docker.com/r/dydydd/123bot)

**ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Telegram äº‘ç›˜è‡ªåŠ¨åŒ–è½¬å­˜å·¥å…·ï¼Œæ”¯æŒå¤šå¹³å°äº‘ç›˜è‡ªåŠ¨è½¬å­˜ã€ç¦»çº¿ä¸‹è½½ã€ç§’ä¼ å’Œ 302 æ’­æ”¾**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢
[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢
[ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£) â€¢
[é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜) â€¢
[å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

</div>

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰](#ä½¿ç”¨-docker-composeæ¨è)
  - [ä½¿ç”¨ Docker Hub é•œåƒ](#ä½¿ç”¨-docker-hub-é•œåƒ)
  - [æœ¬åœ°å¼€å‘éƒ¨ç½²](#æœ¬åœ°å¼€å‘éƒ¨ç½²)
- [ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [API æ¥å£](#-api-æ¥å£)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
- [è®¸å¯è¯](#-è®¸å¯è¯)
- [å…è´£å£°æ˜](#-å…è´£å£°æ˜)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ å¤šå¹³å°äº‘ç›˜æ”¯æŒ
- **123äº‘ç›˜** - å®Œæ•´æ”¯æŒåˆ†äº«é“¾æ¥è½¬å­˜ã€ç¦»çº¿ä¸‹è½½ã€ç§’ä¼ åŠŸèƒ½
- **115äº‘ç›˜** - æ”¯æŒåˆ†äº«é“¾æ¥è½¬å­˜ã€Cookie è®¤è¯
- **å¤©ç¿¼äº‘ç›˜** - æ”¯æŒåˆ†äº«é“¾æ¥è½¬å­˜ã€è´¦å·å¯†ç è®¤è¯

### ğŸ“¡ Telegram é›†æˆ
- ğŸ¤– Telegram Bot äº¤äº’ç•Œé¢
- ğŸ“¢ è‡ªåŠ¨ç›‘æ§é¢‘é“åˆ†äº«é“¾æ¥
- ğŸ’¬ æ”¯æŒç§èŠå’Œç¾¤ç»„æ“ä½œ
- ğŸ”” å®æ—¶è½¬å­˜çŠ¶æ€é€šçŸ¥
- ğŸ“Š è½¬å­˜ç»Ÿè®¡å’ŒæŠ¥å‘Š

### ğŸ¬ åª’ä½“åŠŸèƒ½
- **302 æ’­æ”¾** - ç›´æ¥ç”Ÿæˆè§†é¢‘åœ¨çº¿æ’­æ”¾é“¾æ¥
- **å¼¹å¹•æ”¯æŒ** - è‡ªåŠ¨ä¸‹è½½è§†é¢‘å¼¹å¹•æ–‡ä»¶ï¼ˆæ”¯æŒ Misaka Danmaku APIï¼‰
- **å¤šçº¿è·¯æ’­æ”¾** - æ”¯æŒæœ€å¤š 5 ä¸ªæ’­æ”¾çº¿è·¯
- **å®æ—¶è½¬ç ** - å…¼å®¹å„ç§æ’­æ”¾å™¨

### âš¡ é«˜çº§åŠŸèƒ½
- **ç§’ä¼ æ”¯æŒ** - JSON æ ¼å¼ç§’ä¼ åˆ° 123 å’Œ 115
- **ç£åŠ›ä¸‹è½½** - 123äº‘ç›˜ç¦»çº¿ä¸‹è½½ç£åŠ›é“¾æ¥
- **æ‰¹é‡è½¬å­˜** - æ”¯æŒæ‰¹é‡é“¾æ¥å¤„ç†
- **æ™ºèƒ½è¿‡æ»¤** - æ”¯æŒå…³é”®è¯è¿‡æ»¤å’Œæ’é™¤è§„åˆ™
- **å®šæ—¶ä»»åŠ¡** - è‡ªåŠ¨æ¸…ç†å’Œæ•´ç†åŠŸèƒ½

### ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§
- **AI å†…å®¹æ£€æµ‹** - é›†æˆ AI è¾…åŠ©æ£€æµ‹æ•æ„Ÿå†…å®¹
- **è´¦å·ä¿æŠ¤** - é¿å…è¿è§„å†…å®¹å¯¼è‡´è´¦å·å°ç¦
- **è®¿é—®æ§åˆ¶** - Web ç®¡ç†ç•Œé¢å¯†ç ä¿æŠ¤
- **Session ç®¡ç†** - å®‰å…¨çš„ä¼šè¯ç®¡ç†æœºåˆ¶

### ğŸ¯ Web ç®¡ç†é¢æ¿
- ğŸŒ ç°ä»£åŒ–çš„ Web ç•Œé¢
- âš™ï¸ åœ¨çº¿é…ç½®ç®¡ç†
- ğŸ“ˆ å®æ—¶çŠ¶æ€ç›‘æ§
- ğŸ¨ å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
123bot/
â”œâ”€â”€ 123bot.py          # ä¸»ç¨‹åº - 123äº‘ç›˜ç›‘æ§è½¬å­˜
â”œâ”€â”€ 115bot.py          # 115äº‘ç›˜ç›‘æ§è½¬å­˜
â”œâ”€â”€ 189bot.py          # å¤©ç¿¼äº‘ç›˜ç›‘æ§è½¬å­˜
â”œâ”€â”€ server.py          # Web æœåŠ¡å™¨
â”œâ”€â”€ share.py           # åˆ†äº«é“¾æ¥ç”Ÿæˆ
â”œâ”€â”€ ptto123.py         # æœ¬åœ°æ–‡ä»¶ç§’ä¼ åˆ°123
â”œâ”€â”€ ptto115.py         # æœ¬åœ°æ–‡ä»¶ç§’ä¼ åˆ°115
â”œâ”€â”€ quark.py           # å¤¸å…‹äº‘ç›˜è½¬å­˜
â”œâ”€â”€ content_check.py   # AI å†…å®¹æ£€æµ‹
â”œâ”€â”€ danmu.py           # å¼¹å¹•ä¸‹è½½
â””â”€â”€ docker-compose.yml # Docker ç¼–æ’é…ç½®
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Docker** >= 20.10 (æ¨è)
- **Docker Compose** >= 2.0
- **Python** >= 3.8 (æœ¬åœ°è¿è¡Œ)

### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

#### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone --recursive https://github.com/dydydd/123bot.git
cd 123bot
```

> ğŸ’¡ æ³¨æ„ï¼šä½¿ç”¨ `--recursive` å‚æ•°å…‹éš†å­æ¨¡å—

#### 2ï¸âƒ£ é…ç½® docker-compose.yml

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker Hub é•œåƒï¼ˆæ¨èï¼‰**

åˆ›å»ºæˆ–ç¼–è¾‘ `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
version: '3'

services:
  123bot-service:
    image: dydydd/123bot:latest  # æˆ–ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬: dydydd/123bot:v1.0.2
    container_name: 123bot
    network_mode: host
    ports:
      - '12366:12366'
    environment:
      # å¿…å¡«ï¼šä»£ç†é…ç½®ï¼ˆv2å¡«20172å¸¦åˆ†æµè§„åˆ™çš„ç«¯å£ï¼Œclashå¡«7890ç«¯å£ï¼‰
      - HTTP_PROXY=http://127.0.0.1:7890
      # å¿…å¡«ï¼šä»£ç†é…ç½®ï¼ˆv2å¡«20172å¸¦åˆ†æµè§„åˆ™çš„ç«¯å£ï¼Œclashå¡«7890ç«¯å£ï¼‰
      - HTTPS_PROXY=http://127.0.0.1:7890
      # å¿…å¡«ï¼šæ—¶åŒºé…ç½®
      - TZ=Asia/Shanghai
      # å¿…å¡«ï¼šTGæœºå™¨äººTokenï¼ˆä»@BotFatherè·å–ï¼‰
      - ENV_TG_BOT_TOKEN=
      # å¿…å¡«ï¼šTGç®¡ç†å‘˜ç”¨æˆ·IDï¼ˆä»@userinfobotè·å–ï¼‰
      - ENV_TG_ADMIN_USER_ID=
      # å¿…å¡«ï¼šWEBé…ç½®é¡µé¢çš„ç™»å½•è´¦å·
      - ENV_WEB_PASSPORT=
      # å¿…å¡«ï¼šWEBé…ç½®é¡µé¢çš„ç™»å½•å¯†ç 
      - ENV_WEB_PASSWORD=
    volumes:
      # æŒä¹…åŒ–å­˜å‚¨dbç›®å½•
      - ./db:/app/db
      # æœ¬åœ°PTæ–‡ä»¶ä¸‹è½½ç›®å½•ï¼ˆå·¦ä¾§ï¼‰æ˜ å°„åˆ°å®¹å™¨å†…ç›‘æ§ç›®å½•ï¼ˆå³ä¾§ï¼‰
      - /vol3/1000/Video/MoviePilot/transfer:/app/upload
      # è¶…è¿‡é‡è¯•æ¬¡æ•°åå°†é€šè¿‡CD2ä¸Šä¼ æ–‡ä»¶
      - /vol1/1000/CloudNAS/CloudDrive/115äº‘ç›˜/Video/å¾…å½’æ¡£å½±è§†/MPå¾…å½’æ¡£å½±è§†:/app/transfer
    restart: always  # å®¹å™¨é€€å‡ºåè‡ªåŠ¨é‡å¯
```

**æ–¹å¼äºŒï¼šæœ¬åœ°æ„å»ºé•œåƒ**

å¦‚æœéœ€è¦ä¿®æ”¹ä»£ç æˆ–æœ¬åœ°æ„å»ºï¼Œä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š

```yaml
version: '3'

services:
  bot123:
    build: .
    container_name: bot123
    restart: always
    network_mode: host
    ports:
      - "12366:12366"
    volumes:
      - ./db:/app/db
      - ./upload:/app/upload
      - ./transfer:/app/transfer
    environment:
      # æ—¶åŒºè®¾ç½®
      - TZ=Asia/Shanghai
      
      # Webç®¡ç†ç•Œé¢ç™»å½•é…ç½®ï¼ˆå¿…å¡«ï¼‰
      - ENV_WEB_PASSPORT=admin
      - ENV_WEB_PASSWORD=123456
      
      # 123äº‘ç›˜é…ç½®ï¼ˆå¿…å¡«ï¼‰- ä»db/user.envæ–‡ä»¶è¯»å–ï¼Œæˆ–åœ¨è¿™é‡Œç›´æ¥é…ç½®
      - ENV_123_CLIENT_ID=${ENV_123_CLIENT_ID:-}
      - ENV_123_CLIENT_SECRET=${ENV_123_CLIENT_SECRET:-}
      
      # Telegram Boté…ç½®ï¼ˆå¿…å¡«ï¼‰
      - ENV_TG_BOT_TOKEN=${ENV_TG_BOT_TOKEN:-}
      - ENV_TG_ADMIN_USER_ID=${ENV_TG_ADMIN_USER_ID:-}
```

> ğŸ’¡ **æç¤º**ï¼š
> - æ–¹å¼ä¸€ç›´æ¥ä½¿ç”¨é¢„æ„å»ºé•œåƒï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œæ— éœ€æœ¬åœ°ç¼–è¯‘
> - æ–¹å¼äºŒé€‚åˆéœ€è¦ä¿®æ”¹ä»£ç æˆ–è°ƒè¯•çš„åœºæ™¯
> - ä»£ç†é…ç½®å¯æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ç«¯å£ï¼ˆv2ray ç”¨ 20172ï¼Œclash ç”¨ 7890ï¼‰
> - å·æ˜ å°„è·¯å¾„è¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹

#### 3ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—ï¼ˆæ ¹æ®å®¹å™¨åé€‰æ‹©ï¼‰
docker-compose logs -f 123bot  # æ–¹å¼ä¸€
# æˆ–
docker-compose logs -f bot123   # æ–¹å¼äºŒ

# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æ‹‰å–æœ€æ–°é•œåƒå¹¶é‡å¯ï¼ˆæ–¹å¼ä¸€ï¼‰
docker-compose pull && docker-compose up -d

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨ï¼ˆæ–¹å¼äºŒï¼‰
docker-compose build --no-cache && docker-compose up -d
```

#### 4ï¸âƒ£ è®¿é—®æœåŠ¡

- ğŸŒ **Web ç®¡ç†ç•Œé¢**: http://your-server-ip:12366
- ğŸ¬ **302 æ’­æ”¾**: http://your-server-ip:12366/d/æ–‡ä»¶è·¯å¾„
- ğŸ¤– **Telegram Bot**: å‘ Bot å‘é€ `/start`

---

### ä½¿ç”¨ Docker Hub é•œåƒ

ç›´æ¥ä» Docker Hub æ‹‰å–é¢„æ„å»ºé•œåƒï¼ˆä¸ä½¿ç”¨ docker-composeï¼‰ï¼š

```bash
# æ‹‰å–æœ€æ–°é•œåƒ
docker pull dydydd/123bot:latest

# æˆ–æ‹‰å–æŒ‡å®šç‰ˆæœ¬
docker pull dydydd/123bot:v1.0.2

# è¿è¡Œå®¹å™¨ï¼ˆå¸¦ä»£ç†é…ç½®ï¼‰
docker run -d \
  --name 123bot \
  --network host \
  -p 12366:12366 \
  -e HTTP_PROXY=http://127.0.0.1:7890 \
  -e HTTPS_PROXY=http://127.0.0.1:7890 \
  -e TZ=Asia/Shanghai \
  -e ENV_TG_BOT_TOKEN=your_bot_token \
  -e ENV_TG_ADMIN_USER_ID=your_user_id \
  -e ENV_WEB_PASSPORT=admin \
  -e ENV_WEB_PASSWORD=your_password \
  -v ./db:/app/db \
  -v /path/to/upload:/app/upload \
  -v /path/to/transfer:/app/transfer \
  --restart always \
  dydydd/123bot:latest

# å¦‚æœä¸éœ€è¦ä»£ç†ï¼Œå¯ä»¥å»æ‰ HTTP_PROXY å’Œ HTTPS_PROXY ç¯å¢ƒå˜é‡
```

> ğŸ’¡ **æç¤º**ï¼š
> - ä»£ç†ç«¯å£æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼ˆv2ray ç”¨ 20172ï¼Œclash ç”¨ 7890ï¼‰
> - å¦‚æœä¸éœ€è¦ä»£ç†ï¼Œå¯åˆ é™¤ `-e HTTP_PROXY` å’Œ `-e HTTPS_PROXY` è¡Œ
> - 123äº‘ç›˜é…ç½®å¯ä»¥åœ¨ Web ç•Œé¢ä¸­å¡«å†™ï¼Œæ— éœ€åœ¨å¯åŠ¨æ—¶æŒ‡å®š

**Docker å¸¸ç”¨å‘½ä»¤**

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker logs -f 123bot

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it 123bot /bin/bash

# åœæ­¢/å¯åŠ¨/é‡å¯
docker stop/start/restart 123bot

# åˆ é™¤å®¹å™¨
docker rm -f 123bot

# æ›´æ–°é•œåƒ
docker pull dydydd/123bot:latest
docker stop 123bot
docker rm 123bot
# ç„¶åé‡æ–°è¿è¡Œ docker run å‘½ä»¤

# æŸ¥çœ‹é•œåƒ
docker images | grep 123bot
```

---

### æœ¬åœ°å¼€å‘éƒ¨ç½²

#### 1ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# å®‰è£…å­æ¨¡å—ä¾èµ–
pip install ./p123client
pip install ./p115client
```

#### 2ï¸âƒ£ é…ç½®ç¯å¢ƒ

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp templete.env db/user.env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano db/user.env
```

#### 3ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨ä¸»ç¨‹åº
python 123bot.py

# æˆ–å¯åŠ¨ Web æœåŠ¡å™¨
python server.py
```

---

## ğŸ“– ä½¿ç”¨æ–‡æ¡£

### Telegram Bot å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `/start` | å¯åŠ¨æœºå™¨äººï¼ŒæŸ¥çœ‹ä½¿ç”¨è¯´æ˜ | `/start` |
| `/share` | åˆ›å»ºåˆ†äº«é“¾æ¥ | `/share` ç„¶åé€‰æ‹©æ–‡ä»¶ |
| `/info` | æŸ¥çœ‹è´¦å·ä¿¡æ¯ | `/info` |
| `/add` | æ·»åŠ è½¬å­˜ä»»åŠ¡ | ç›´æ¥å‘é€åˆ†äº«é“¾æ¥ |
| `/remove` | åˆ é™¤æ–‡ä»¶ | `/remove` ç„¶åé€‰æ‹©æ–‡ä»¶ |

### Web ç®¡ç†ç•Œé¢

è®¿é—® `http://your-server-ip:12366` è¿›å…¥ç®¡ç†ç•Œé¢ï¼š

1. ä½¿ç”¨é…ç½®çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•
2. å¯ä»¥åœ¨çº¿ä¿®æ”¹é…ç½®å‚æ•°
3. ä¿å­˜åè‡ªåŠ¨é‡å¯åº”ç”¨æ–°é…ç½®

### 302 æ’­æ”¾æ¥å£

#### åŸºç¡€ç”¨æ³•

```
http://your-server-ip:12366/d/æ–‡ä»¶è·¯å¾„
```

#### å¤šçº¿è·¯æ’­æ”¾

æ”¯æŒæœ€å¤š 5 ä¸ªæ’­æ”¾çº¿è·¯ï¼Œé€‚é…ä¸åŒæ’­æ”¾å™¨ï¼š

```
http://your-server-ip:12366/xiaohao1/æ–‡ä»¶è·¯å¾„  # çº¿è·¯1
http://your-server-ip:12366/xiaohao2/æ–‡ä»¶è·¯å¾„  # çº¿è·¯2
http://your-server-ip:12366/xiaohao3/æ–‡ä»¶è·¯å¾„  # çº¿è·¯3
http://your-server-ip:12366/xiaohao4/æ–‡ä»¶è·¯å¾„  # çº¿è·¯4
http://your-server-ip:12366/xiaohao5/æ–‡ä»¶è·¯å¾„  # çº¿è·¯5
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### å¿…å¡«é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ | è·å–æ–¹å¼ |
|--------|------|----------|
| `ENV_TG_BOT_TOKEN` | Telegram Bot Token | [@BotFather](https://t.me/BotFather) |
| `ENV_TG_ADMIN_USER_ID` | ç®¡ç†å‘˜ User ID | [@userinfobot](https://t.me/userinfobot) |
| `ENV_123_CLIENT_ID` | 123äº‘ç›˜ Client ID | [123äº‘ç›˜å¼€æ”¾å¹³å°](https://open.123pan.com/) |
| `ENV_123_CLIENT_SECRET` | 123äº‘ç›˜ Client Secret | [123äº‘ç›˜å¼€æ”¾å¹³å°](https://open.123pan.com/) |
| `ENV_WEB_PASSPORT` | Web ç®¡ç†ç•Œé¢ç”¨æˆ·å | è‡ªå®šä¹‰ |
| `ENV_WEB_PASSWORD` | Web ç®¡ç†ç•Œé¢å¯†ç  | è‡ªå®šä¹‰ï¼ˆå»ºè®®å¼ºå¯†ç ï¼‰|

### å¯é€‰é…ç½®

<details>
<summary>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æ›´å¤šé…ç½®é¡¹</summary>

#### 115äº‘ç›˜é…ç½®
- `ENV_115_COOKIES` - 115äº‘ç›˜ Cookie

#### å¤©ç¿¼äº‘ç›˜é…ç½®
- `ENV_189_CLIENT_ID` - å¤©ç¿¼äº‘ç›˜ Client ID
- `ENV_189_CLIENT_SECRET` - å¤©ç¿¼äº‘ç›˜ Client Secret

#### ç›‘æ§é…ç½®
- `ENV_TG_CHANNEL` - ç›‘æ§çš„é¢‘é“é“¾æ¥ï¼ˆå¤šä¸ªç”¨ | åˆ†éš”ï¼‰
- `ENV_FILTER` - å…³é”®è¯è¿‡æ»¤ï¼ˆä¿ç•™ï¼‰
- `ENV_EXCLUDE_FILTER` - å…³é”®è¯æ’é™¤ï¼ˆè¿‡æ»¤ï¼‰
- `ENV_CHECK_INTERVAL` - æ£€æŸ¥é—´éš”ï¼ˆåˆ†é’Ÿï¼‰

#### 123äº‘ç›˜åŠŸèƒ½é…ç½®
- `ENV_123_LINK_UPLOAD_PID` - é“¾æ¥è½¬å­˜ç›®æ ‡ç›®å½• ID
- `ENV_123_MAGNET_UPLOAD_PID` - ç£åŠ›ä¸‹è½½ç›®æ ‡ç›®å½• ID
- `ENV_123_JSON_UPLOAD_PID` - JSON ç§’ä¼ ç›®æ ‡ç›®å½• ID
- `ENV_123_UPLOAD_PID` - é»˜è®¤ä¸Šä¼ ç›®å½• ID

#### AI å†…å®¹æ£€æµ‹
- `ENV_AI_API_URL` - AI API åœ°å€
- `ENV_AI_API_KEY` - AI API å¯†é’¥

#### å¼¹å¹•é…ç½®
- `DANMAKU_API_URL` - å¼¹å¹• API åœ°å€
- `DANMAKU_API_KEY` - å¼¹å¹• API å¯†é’¥

</details>

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒ [`templete.env`](templete.env) æ–‡ä»¶ã€‚

---

## ğŸ”Œ API æ¥å£

### Web API

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/login` | POST | ç”¨æˆ·ç™»å½• |
| `/api/logout` | POST/GET | é€€å‡ºç™»å½• |
| `/api/env` | GET | è·å–é…ç½® |
| `/api/env` | POST | ä¿å­˜é…ç½® |

### æ’­æ”¾æ¥å£

| æ¥å£ | è¯´æ˜ |
|------|------|
| `/d/<path>` | 302 é‡å®šå‘åˆ°ä¸‹è½½é“¾æ¥ |
| `/xiaohao1/<path>` | æ’­æ”¾çº¿è·¯ 1 |
| `/xiaohao2/<path>` | æ’­æ”¾çº¿è·¯ 2 |
| `/xiaohao3/<path>` | æ’­æ”¾çº¿è·¯ 3 |
| `/xiaohao4/<path>` | æ’­æ”¾çº¿è·¯ 4 |
| `/xiaohao5/<path>` | æ’­æ”¾çº¿è·¯ 5 |

---

## â“ å¸¸è§é—®é¢˜

<details>
<summary><b>å¦‚ä½•è·å– Telegram Bot Tokenï¼Ÿ</b></summary>

1. åœ¨ Telegram ä¸­æœç´¢ [@BotFather](https://t.me/BotFather)
2. å‘é€ `/newbot` åˆ›å»ºæ–°æœºå™¨äºº
3. æŒ‰æç¤ºè®¾ç½®æœºå™¨äººåç§°å’Œç”¨æˆ·å
4. è·å– Bot Tokenï¼ˆæ ¼å¼ï¼š`1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`ï¼‰
5. å‘é€ `/setcommands` è®¾ç½®æœºå™¨äººå‘½ä»¤èœå•

</details>

<details>
<summary><b>å¦‚ä½•è·å– Telegram User IDï¼Ÿ</b></summary>

1. åœ¨ Telegram ä¸­æœç´¢ [@userinfobot](https://t.me/userinfobot)
2. å‘æœºå™¨äººå‘é€ä»»æ„æ¶ˆæ¯
3. è·å–æ‚¨çš„ User IDï¼ˆçº¯æ•°å­—ï¼‰

</details>

<details>
<summary><b>å¦‚ä½•è·å– 123äº‘ç›˜å‡­è¯ï¼Ÿ</b></summary>

1. è®¿é—® [123äº‘ç›˜å¼€æ”¾å¹³å°](https://open.123pan.com/)
2. ä½¿ç”¨ 123äº‘ç›˜è´¦å·ç™»å½•
3. åˆ›å»ºåº”ç”¨å¹¶è·å– Client ID å’Œ Client Secret
4. æ³¨æ„ä¿ç®¡å¥½å‡­è¯ï¼Œä¸è¦æ³„éœ²

</details>

<details>
<summary><b>ä¸ºä»€ä¹ˆæ— æ³•è½¬å­˜ 115/å¤©ç¿¼äº‘ç›˜ï¼Ÿ</b></summary>

ç¡®ä¿å·²æ­£ç¡®é…ç½®å¯¹åº”äº‘ç›˜çš„å‡­è¯ï¼š
- **115äº‘ç›˜**: éœ€è¦é…ç½® `ENV_115_COOKIES`
- **å¤©ç¿¼äº‘ç›˜**: éœ€è¦é…ç½® `ENV_189_CLIENT_ID` å’Œ `ENV_189_CLIENT_SECRET`

å¦‚æœæœªé…ç½®ï¼Œç›¸å…³åŠŸèƒ½å°†ä¸å¯ç”¨ã€‚

</details>

<details>
<summary><b>å¦‚ä½•ä¿®æ”¹é…ç½®ï¼Ÿ</b></summary>

**æ–¹å¼ä¸€ï¼šWeb ç•Œé¢**
1. è®¿é—® http://your-server-ip:12366
2. ç™»å½•ååœ¨çº¿ä¿®æ”¹é…ç½®
3. ç‚¹å‡»ä¿å­˜ï¼Œå®¹å™¨è‡ªåŠ¨é‡å¯

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨ä¿®æ”¹**
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆæ ¹æ®å®¹å™¨åé€‰æ‹©ï¼‰
docker exec -it 123bot /bin/bash  # æ–¹å¼ä¸€
# æˆ–
docker exec -it bot123 /bin/bash   # æ–¹å¼äºŒ

nano /app/db/user.env

# é‡å¯å®¹å™¨ä½¿é…ç½®ç”Ÿæ•ˆ
docker restart 123bot  # æˆ– bot123
```

</details>

<details>
<summary><b>å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ</b></summary>

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼ˆæ ¹æ®å®¹å™¨åé€‰æ‹©ï¼‰
docker logs -f 123bot  # æ–¹å¼ä¸€
# æˆ–
docker logs -f bot123   # æ–¹å¼äºŒ

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œæ—¥å¿—
docker logs --tail 100 123bot

# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
docker exec -it 123bot cat /app/db/log/start-log.log
```

</details>

<details>
<summary><b>å®¹å™¨æ— æ³•å¯åŠ¨æ€ä¹ˆåŠï¼Ÿ</b></summary>

1. æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®
2. æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs 123bot` æˆ– `docker logs bot123`
3. ç¡®ä¿ç«¯å£ 12366 æœªè¢«å ç”¨
4. æ£€æŸ¥ Docker å’Œ Docker Compose ç‰ˆæœ¬
5. å°è¯•é‡æ–°æ‹‰å–é•œåƒï¼š`docker-compose pull` æˆ–é‡æ–°æ„å»ºï¼š`docker-compose build --no-cache`

</details>

---

## ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
123bot/
â”œâ”€â”€ 123bot.py              # ä¸»ç¨‹åº
â”œâ”€â”€ bot115.py              # 115äº‘ç›˜æ¨¡å—
â”œâ”€â”€ bot189.py              # å¤©ç¿¼äº‘ç›˜æ¨¡å—
â”œâ”€â”€ server.py              # Web æœåŠ¡å™¨
â”œâ”€â”€ share.py               # åˆ†äº«åŠŸèƒ½
â”œâ”€â”€ content_check.py       # å†…å®¹æ£€æµ‹
â”œâ”€â”€ danmu.py               # å¼¹å¹•ä¸‹è½½
â”œâ”€â”€ templates/             # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html        # é…ç½®é¡µé¢
â”‚   â””â”€â”€ login.html        # ç™»å½•é¡µé¢
â”œâ”€â”€ static/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ styles.css        # æ ·å¼è¡¨
â”‚   â””â”€â”€ script.js         # è„šæœ¬
â”œâ”€â”€ p123client/            # 123äº‘ç›˜å®¢æˆ·ç«¯ï¼ˆå­æ¨¡å—ï¼‰
â”œâ”€â”€ p115client/            # 115äº‘ç›˜å®¢æˆ·ç«¯ï¼ˆå­æ¨¡å—ï¼‰
â”œâ”€â”€ docker-compose.yml     # Docker ç¼–æ’
â”œâ”€â”€ Dockerfile             # Docker é•œåƒæ„å»º
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â””â”€â”€ templete.env          # é…ç½®æ¨¡æ¿
```

### æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone --recursive https://github.com/dydydd/123bot.git
cd 123bot

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -e ./p123client
pip install -e ./p115client

# 4. é…ç½®ç¯å¢ƒ
cp templete.env db/user.env
# ç¼–è¾‘ db/user.env

# 5. è¿è¡Œå¼€å‘æœåŠ¡å™¨
python server.py  # Web æœåŠ¡å™¨
python 123bot.py  # ä¸»ç¨‹åº
```

### è´¡çŒ®ä»£ç 

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ–°åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### å‘å¸ƒæ–°ç‰ˆæœ¬

é¡¹ç›®ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ Docker é•œåƒï¼š

1. æ›´æ–° `tgto123.py` ä¸­çš„ç‰ˆæœ¬å·
2. æ›´æ–° `README.md` ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯å’Œæ›´æ–°æ—¥å¿—
3. åœ¨ GitHub åˆ›å»ºæ–°çš„ Releaseï¼ˆä¾‹å¦‚ï¼šv1.0.3ï¼‰
4. GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶æ¨é€ä»¥ä¸‹é•œåƒï¼š
   - `dydydd/123bot:v1.0.3`ï¼ˆç‰ˆæœ¬å·æ ‡ç­¾ï¼‰
   - `dydydd/123bot:latest`ï¼ˆæœ€æ–°ç‰ˆæœ¬æ ‡ç­¾ï¼‰

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 Python ç¼–ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™æµ‹è¯•ç”¨ä¾‹
- æ›´æ–° README æ–‡æ¡£

---

## ğŸŒŸ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=dydydd/123bot&type=Date)](https://star-history.com/#dydydd/123bot&Date)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

> ğŸ’¡ **ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬**ï¼šåœ¨ docker-compose.yml æˆ– docker run å‘½ä»¤ä¸­å°† `latest` æ›¿æ¢ä¸ºå…·ä½“ç‰ˆæœ¬å·ï¼Œå¦‚ `v1.0.2`
> 
> æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬ï¼š[GitHub Releases](https://github.com/dydydd/123bot/releases) | [Docker Hub Tags](https://hub.docker.com/r/dydydd/123bot/tags)

### v1.0.2 

**æ–°å¢åŠŸèƒ½**
- âœ¨ æ·»åŠ ç§’ä¼ æ–‡ä»¶å…¼å®¹æ€§æ”¯æŒ
- ğŸ”§ ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“ç¨³å®šæ€§

**æ”¹è¿›**
- ğŸ“¦ æå‡ç§’ä¼ è¯†åˆ«å‡†ç¡®åº¦
- ğŸ› ä¿®å¤éƒ¨åˆ†æ–‡ä»¶æ ¼å¼å…¼å®¹æ€§é—®é¢˜

### v1.0.1 

**æ–°å¢åŠŸèƒ½**
- ğŸ¨ å…¨æ–° Web ç®¡ç†ç•Œé¢ä¸Šçº¿
- âš™ï¸ æ”¯æŒåœ¨çº¿é…ç½®ç®¡ç†

**æ”¹è¿›**
- ğŸ’… ç°ä»£åŒ– UI è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯é€‚é…
- ğŸ” å¢å¼ºç™»å½•å®‰å…¨æ€§
- ğŸ“ ä¼˜åŒ–é…ç½®é¡¹å±•ç¤º

### v1.0.0 

**åˆå§‹ç‰ˆæœ¬**
- ğŸ‰ æ¢å¤æœºå™¨äººæ­£å¸¸è¿è¡Œ
- âœ… æ”¯æŒ 123 äº‘ç›˜è‡ªåŠ¨è½¬å­˜
- ğŸ“¡ Telegram Bot é›†æˆ
- ğŸ”„ é¢‘é“ç›‘æ§åŠŸèƒ½
- ğŸ¬ 302 ç›´é“¾æ’­æ”¾
- ğŸš€ Docker éƒ¨ç½²æ”¯æŒ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

```
MIT License

Copyright (c) 2025 dydydd

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
```

---

## âš ï¸ å…è´£å£°æ˜

**é‡è¦å£°æ˜**ï¼š

1. **ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨**
   - æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨
   - è¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç”¨é€”
   - ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨æœ¬å·¥å…·çš„æ‰€æœ‰é£é™©

2. **éµå®ˆæ³•å¾‹æ³•è§„**
   - è¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„
   - è¯·éµå®ˆäº‘ç›˜æœåŠ¡æ¡æ¬¾
   - è¯·å‹¿ä¼ æ’­è¿æ³•è¿è§„å†…å®¹
   - è¯·å‹¿ä¾µçŠ¯ä»–äººçŸ¥è¯†äº§æƒ

3. **é£é™©æç¤º**
   - ä½¿ç”¨æœ¬å·¥å…·å¯èƒ½è¿åäº‘ç›˜æœåŠ¡æ¡æ¬¾
   - å¯èƒ½å¯¼è‡´è´¦å·è¢«å°ç¦æˆ–é™åˆ¶
   - å¼€å‘è€…ä¸å¯¹ä»»ä½•æŸå¤±è´Ÿè´£
   - ä½¿ç”¨å‰è¯·å……åˆ†äº†è§£é£é™©

4. **éšç§ä¿æŠ¤**
   - å¦¥å–„ä¿ç®¡é…ç½®æ–‡ä»¶å’Œå‡­è¯
   - å®šæœŸæ›´æ”¹å¯†ç 
   - ä¸è¦åœ¨å…¬å…±åœºåˆæ³„éœ²æ•æ„Ÿä¿¡æ¯

**ä½¿ç”¨æœ¬å·¥å…·å³è¡¨ç¤ºæ‚¨å·²é˜…è¯»ã€ç†è§£å¹¶åŒæ„ä»¥ä¸Šæ‰€æœ‰å£°æ˜ã€‚**

---

## ğŸ“® è”ç³»æ–¹å¼

- **GitHub**: https://github.com/dydydd/123bot
- **Issues**: https://github.com/dydydd/123bot/issues
- **Docker Hub**: https://hub.docker.com/r/dydydd/123bot

---

<div align="center">

### å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼

**Made with â¤ï¸ by [dydydd](https://github.com/dydydd)**

</div>
